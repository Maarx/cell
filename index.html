<!DOCTYPE HTML>
<html>
<head>

  <meta charset="UTF-8">
  <title>CELL</title>

<link rel="icon" href="favicon.ico" />
<link rel="icon" type="image/png" href="favicon.png" />
<link rel="stylesheet" href="style.css">

</head>
<body>

<canvas id="world" width="800" height="600"></canvas>

<audio src="sounds/boui0.mp3" id="boui0.mp3" ></audio>
<audio src="sounds/boui1.mp3" id="boui1.mp3" ></audio>
<audio src="sounds/boui2.mp3" id="boui2.mp3" ></audio>
<audio src="sounds/boui3.mp3" id="boui3.mp3" ></audio>

<script src="js/lib.js"></script>
<script src="js/world.js"></script>
<script src="js/cell.js"></script>
<script src="js/dat.gui.js"></script>
<script src="js/param.js"></script>
<script>

var canvas = document.getElementById( 'world' );

canvas.width  = window.innerWidth;
canvas.height = window.innerHeight;
world = new World( canvas );

var param = {
      activateSpawning: false,
      deadZone: 10,
      easing: 0.9,
      generationTime: 500,
      lifetime: 6,
      lineWidth: 3,
      minDistance: 35,
      noOffScreen: true,
      randomMove: 1,
      maxEntity:80,
      showText:false,
      showCircles:true,
      sound:true
    }


load_parameters();
  


function playSound(){
	if(!param.sound) return;
	var i = Math.random()*4|0;
	document.getElementById('boui'+i+'.mp3').volume=0;
	document.getElementById('boui'+i+'.mp3').currentTime=0;
    document.getElementById('boui'+i+'.mp3').play();
    document.getElementById('boui'+i+'.mp3').volume=0.01;
}


var i = 111;
var gape = 300;
//while( i-- ) world.addCell( new Cell( Math.random()*gape*2-gape, Math.random()*gape*2-gape ) );

world.render();

function frame() {
	for(i in guiui){
		if(typeof(param[i])!='undefined')
			param[i]=guiui[i];
	}
	canvas.width  = window.innerWidth;
	canvas.height = window.innerHeight;
	world.frame();
  requestAnimFrame( frame );
}
frame();

</script>

</body>
</html>